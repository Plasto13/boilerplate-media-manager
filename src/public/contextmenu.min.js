!function(n,t){n.fn.contextMenu=function(o){return this.each(function(){n(this).on("contextmenu",function(t){if(!t.ctrlKey){console.log(t);var c=n(o.menuSelector).data("invokedOn",n(this)).show().css({position:"absolute",left:e(t.pageX,"width","scrollLeft"),top:e(t.pageY,"height","scrollTop")}).off("click").on("click","a",function(t){c.hide(),"function"==typeof o.onSelect&&o.onSelect.call(this,c.data("invokedOn"),n(t.target),t)});return"function"==typeof o.onShow&&o.onShow.call(this,c,c.data("invokedOn")),!1}}),n(t).click(function(){n(o.menuSelector).hide()})});function e(e,c,i){var l=n(t)[c](),u=(n(t)[i](),n(o.menuSelector)[c]()),f=e;return e+u>l&&u<e&&(f-=u),f}}}(jQuery,window);
